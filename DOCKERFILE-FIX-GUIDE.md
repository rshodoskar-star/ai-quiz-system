# ๐ณ Dockerfile Fix Guide โ AI Quiz System

ูุฐู ุงููุซููุฉ ุชุดุฑุญ ุงููุดุงูู ุงูุชู ุธูุฑุช ูู Dockerfile ุงููุฏูู ูุชุนุฑุถ ุงูุญููู ุงูููุนุชูุฏุฉ ูู `Dockerfile-v8-FINAL` ูุชุญุณูู ุจูุงุก ุงูุญุงููุฉ ูุชุซุจูุช ุงูุงุนุชูุงุฏูุงุช ุจุดูู ุตุญูุญ.

## ูุดุงูู Dockerfile ุงููุฏูู

- **ุงูุชูุงุฑ ุงูุงุนุชูุงุฏูุงุช ุงููุธุงููุฉ**: ูู ูุชู ุชุซุจูุช ููุชุจุงุช ูุซู `libgl1`, `libglib2.0-0`, `libsm6`, ู `libxrender1`ุ ููุง ุชุณุจุจ ูู ุฃุฎุทุงุก ุนูุฏ ุชุซุจูุช `opencv-python` ู `PaddleOCR`.
- **ุญุฌู ุงูุตูุฑุฉ ุงููุจูุฑ**: ุงุณุชุฎุฏุงู ุตูุฑุฉ ุฃุณุงุณ ุบูุฑ ููุงุณุจุฉ ุฃุฏู ุฅูู ุญุฌู ุญุงููุฉ ุถุฎู ูุจุทุก ูู ุงูุชุญููู.
- **ุชุนููุฏ ุฎุทูุงุช ุงูุชุซุจูุช**: ุนุฏู ุงููุตู ุจูู ุฎุทูุงุช ุชุซุจูุช ุงููุธุงู ู Python ุญุฑู Docker ูู ุงูุงุณุชูุงุฏุฉ ูู ุงูุชุฎุฒูู ุงููุคูุช ููุทุจูุงุช (layer cache).
- **ุนุฏู ุชูุธูู cache**: ุชุฑู ูุฎููุงุช `apt` ููููุงุช ูุคูุชุฉ ุฏุงุฎู ุงูุตูุฑุฉ ููุง ุฒุงุฏ ุญุฌููุง.

## ุงูุญู ุงูุตุญูุญ โ Dockerfile-v8-FINAL

ุชู ุชุตููู Dockerfile ุฌุฏูุฏ ูุญู ูุฐู ุงููุดุงููุ ูููุง ููู ุฃุจุฑุฒ ููููุงุชู:

```Dockerfile
FROM python:3.10-slim

# ุชุซุจูุช ุงูุงุนุชูุงุฏูุงุช ุงููุธุงููุฉ ุงูุถุฑูุฑูุฉ ูุนูู OCR ู OpenCV
RUN apt-get update && apt-get install -y \
    libgl1 \
    libglib2.0-0 \
    libsm6 \
    libxrender1 \
    libxext6 \
    libstdc++6 \
    libjpeg62-turbo \
    && apt-get clean && rm -rf /var/lib/apt/lists/*

# ุชุนููู ูุฌูุฏ ุงูุนูู
WORKDIR /app

# ูุณุฎ ูููุงุช ุงููุชุทูุจุงุช
COPY requirements-v8-simple.txt /app/

# ุชุญุฏูุซ pip ูุชุซุจูุช ุงููุชุทูุจุงุช
RUN pip install --upgrade pip && \
    pip install -r requirements-v8-simple.txt

# ูุณุฎ ุจููุฉ ูููุงุช ุงููุดุฑูุน
COPY . /app

# ุชุญุฏูุฏ ุงูุฃูุฑ ุงูุงูุชุฑุงุถู ูุชุดุบูู ุงูุฎุงุฏู
CMD ["python", "server-v8-FIXED.js"]
```

### ุงููุฑููุงุช ุงูุฑุฆูุณูุฉ

- **ุงุนุชูุงุฏ ุตูุฑุฉ slim**: ุงุณุชุฎุฏุงู `python:3.10-slim` ูููู ุญุฌู ุงูุตูุฑุฉ ูุน ุงูุญูุงุธ ุนูู ุงูุชูุงูู.
- **ุชุซุจูุช ุงูุงุนุชูุงุฏูุงุช ุงููุธุงููุฉ** ูุจู ุฃู ุญุฒู Python ูุถูุงู ุชููุฑ ุงูููุชุจุงุช ุงููุทููุจุฉ ูุฑุจุท C/C++.
- **ุงุณุชุฎุฏุงู `opencv-python-headless`** ูู ุงููุชุทูุจุงุช ุจุฏูุงู ูู ุงููุณุฎุฉ ุงููุงููุฉ ูุชูููู ุงูุญุฌู ูุนุฏู ุงูุญุงุฌุฉ ุฅูู ูุงุฌูุฉ ุฑุณูููุฉ.
- **ุชูุธูู ูุฎููุงุช apt** ุจุนุฏ ุงูุชุซุจูุช ููุญูุงุธ ุนูู ุงูุญุฌู ุงูุตุบูุฑ.

## ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ ูููููุฉ ุชุฌูุจูุง

- **ImportError: libGL.so.1 not found**: ูุญุฏุซ ุฅุฐุง ูุณูุช ุชุซุจูุช `libgl1`. ุชุฃูุฏ ูู ูุฌูุฏู ูู ูุณู `apt-get install`.
- **ูุดู ุชุซุจูุช paddlepaddle**: ุงุณุชุฎุฏู ุงููุฑุขุฉ ุงูููุงุณุจุฉ ููุง ูู ุฏููู PaddlePaddle Fixุ ุฃู ุชุฃูุฏ ูู ูุฌูุฏ `libgomp` ูู ุตูุฑุฉ ุงูุฃุณุงุณ.
- **ุฒูุงุฏุฉ ุงูุญุฌู ุบูุฑ ุงููุจุฑุฑุฉ**: ุฑุงุฌุน Dockerfile ููุชุฃูุฏ ูู ุชูุธูู cache ูุนุฏู ูุณุฎ ูููุงุช ุบูุฑ ุถุฑูุฑูุฉ ุฅูู ุงูุญุงููุฉ.

## ุงูุชุญูู ูู ุงูุจูุงุก

1. ุดุบู ุงูุฃูุฑ `docker build -t ai-quiz-system:v8 .` ูุชุฃูุฏ ูู ุงูุชูุงุก ุงูุจูุงุก ุจุฏูู ุฃุฎุทุงุก.
2. ุนูุฏ ุชุดุบูู ุงูุญุงููุฉ (`docker run -p 8000:8000 ai-quiz-system:v8`)ุ ุงุฎุชุจุฑ ููุฒุฉ ุงุณุชุฎุฑุงุฌ PDF ู OCR ููุชุฃูุฏ ูู ุฃู ุฌููุน ุงูููุชุจุงุช ุชุนูู.
3. ุฑุงูุจ ุงุณุชููุงู ุงูุฐุงูุฑุฉ ูุญุฌู ุงูุตูุฑุฉุ ููุจุบู ุฃู ูููู ุงูุญุฌู ุฃูู ููุง ูุงู ุนููู ูู ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ.

ุจุงุชุจุงุน ูุฐุง ุงูุฏูููุ ูููู ุฅูุดุงุก ุตูุฑุฉ Docker ูุณุชูุฑุฉ ูุตุบูุฑุฉ ุงูุญุฌู ุชุฏุนู ูู ุงูุงุนุชูุงุฏูุงุช ุงููุงุฒูุฉ ูุชุดุบูู ูุธุงู ุงูุงุฎุชุจุงุฑุงุช ุงูุฐูู.
